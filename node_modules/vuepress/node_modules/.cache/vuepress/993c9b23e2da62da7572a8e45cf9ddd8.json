{"remainingRequest":"H:\\full\\myBolg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\full\\myBolg\\docs\\.vuepress\\components\\verifychip\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\full\\myBolg\\docs\\.vuepress\\components\\verifychip\\index.vue","mtime":1551346895221},{"path":"H:\\full\\myBolg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545827198486},{"path":"H:\\full\\myBolg\\node_modules\\babel-loader\\lib\\index.js","mtime":1551338590818},{"path":"H:\\full\\myBolg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545827198486},{"path":"H:\\full\\myBolg\\node_modules\\vue-loader\\lib\\index.js","mtime":1545827200284}],"contextDependencies":[],"result":["//\n//\n//\n//\n\r\n/**\r\n * url为图片路径，imgName为图片名称，类型为数组，\r\n * onsuccess为成功回调事件\r\n * onrefresh为刷新回调事件\r\n * onfail为失败回调事件\r\n */\r\n// import { _canvas } from \"./constructor.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      canvasKey: \"CANVAS\" + parseInt(Math.random() * 100000)\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.initCanvas();\r\n  },\r\n  props: {\r\n    url: { type: String, default: \"//picsum.photos/300/150/?image=\" },\r\n    imgName: {\r\n      type: Array\r\n    }\r\n  },\r\n  methods: {\r\n    //初始化\r\n    initCanvas() {\r\n      let _this = this;\r\n      let _url =\r\n        this.url == \"//picsum.photos/300/150/?image=\"\r\n          ? this.url + this.getRandomNumberByRange(0, 300)\r\n          : this.url +\r\n            this.imgName[\r\n              this.getRandomNumberByRange(0, this.imgName.length - 1)\r\n            ];\r\n      _canvas.init({\r\n        el: this.$refs[this.canvasKey],\r\n        onSuccess: _this.result(0),\r\n        onFail: _this.result(1),\r\n        onRefresh: _this.result(2),\r\n        url: _url\r\n      });\r\n    },\r\n    //触发回调\r\n    result(_a) {\r\n      let _this = this;\r\n      return function() {\r\n        let text = !_a ? \"成功\" : _a == 2 ? \"刷新\" : \"失败\";\r\n        _this.$message(\"这是\" + text + \"回调事件\");\r\n        !_a\r\n          ? _this.$emit(\"onsuccess\", \"成功回调事件\")\r\n          : _a == 2\r\n          ? _this.$emit(\"onrefresh\", \"刷新回调事件\")\r\n          : _this.$emit(\"onfail\", \"失败回调事件\");\r\n      };\r\n    },\r\n    getRandomNumberByRange(start, end) {\r\n      return Math.round(Math.random() * (end - start) + start);\r\n    }\r\n  }\r\n};\r\n",null]}